<head>

<!--
<link rel="stylesheet" href="awesomplete.css" /> and <script src="awesomplete.js" async></script>
-->
<!-- Compiled and minified CSS -->
<!---<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">--->


<!-- Compiled and minified JavaScript -->
<!-- -<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>-
 --><!-- Override default nav style in materialize -->
<!-- Compiled and minified CSS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">


<!-- Compiled and minified JavaScript -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<style>

    nav {
        background-color: transparent;
    }

    .external-links{
        font-size:14px;
    }



    .pre-imitate {
        white-space:pre-wrap !important;
        word-wrap:break-word !important;
        text-align:justify !important;
        font-family: monospace,monospace !important;
        overflow-x: auto !important;
    	margin: 1.5em 0 3em !important;
    	padding: 20px !important;
    	max-width: 100% !important;
    	border: 1px solid #000 !important;
    	color: #e5eff5 !important;
    	font-size: 1rem !important;
    	line-height: 1.5em !important;
    	background: #0e0f11 !important;
    	border-radius: 5px !important;
 }


.waves-effect {
    position: relative;
    cursor: pointer;
    display: inline-block;
    overflow: hidden;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    -webkit-tap-highlight-color: transparent;
    vertical-align: middle;
    z-index: 1;
    -webkit-transition: .3s ease-out;
    transition: .3s ease-out;
}


    .btn {
    -webkit-box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.12), 0 1px 5px 0 rgba(0,0,0,0.2);
    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.12), 0 1px 5px 0 rgba(0,0,0,0.2);
    text-decoration: none;
    color: #fff;
    background-color: #26a69a;
    text-align: center;
    letter-spacing: .5px;
    -webkit-transition: background-color .2s ease-out;
    transition: background-color .2s ease-out;
    cursor: pointer;

    }

.btn:focus, .btn-large:focus, .btn-small:focus, .btn-floating:focus {
    background-color: #1d7d74;
}


    .waves-effect{
        position:relative;
        cursor:pointer;
        display:inline-block;
        overflow:hidden;
        -webkit-user-select:none;
        -moz-user-select:none;
        -ms-user-select:none;
        user-select:none;
        -webkit-tap-highlight-color:transparent;
        vertical-align:middle;
        z-index:1;
        -webkit-transition:.3s ease-out;
        transition:.3s ease-out
    }
    .waves-effect .waves-ripple{
        position:absolute;
        border-radius:50%;
        width:20px;
        height:20px;
        margin-top:-10px;
        margin-left:-10px;
        opacity:0;
        background:rgba(0,0,0,0.2);
        -webkit-transition:all 0.7s ease-out;
        transition:all 0.7s ease-out;
        -webkit-transition-property:opacity, -webkit-transform;transition-property:opacity, -webkit-transform;transition-property:transform, opacity;transition-property:transform, opacity, -webkit-transform;-webkit-transform:scale(0);transform:scale(0);
        pointer-events:none
    }
    .waves-effect.waves-light .waves-ripple{
        background-color:rgba(255,255,255,0.45)
    }
    .waves-effect.waves-red .waves-ripple{
        background-color:rgba(244,67,54,0.7)
    }
    .waves-effect.waves-yellow .waves-ripple{
        background-color:rgba(255,235,59,0.7)
    }
    .waves-effect.waves-orange .waves-ripple{
        background-color:rgba(255,152,0,0.7)
    }
    .waves-effect.waves-purple .waves-ripple{
        background-color:rgba(156,39,176,0.7)
    }
    .waves-effect.waves-green .waves-ripple{
        background-color:rgba(76,175,80,0.7)
    }
    .waves-effect.waves-teal .waves-ripple{
        background-color:rgba(0,150,136,0.7)
    }
    .waves-effect input[type="button"],.waves-effect input[type="reset"],.waves-effect input[type="submit"]{border:0;font-style:normal;font-size:inherit;text-transform:inherit;background:none}.waves-effect img{position:relative;z-index:-1}
    .waves-notransition{
        -webkit-transition:none !important;
        transition:none !important
    }





</style>
<script>

document.addEventListener('DOMContentLoaded', function() {
    var elems = document.querySelectorAll('select');
    var instances = M.FormSelect.init(elems);
  });


function genPredictions() {

  var gmat = document.getElementById("gmat").value;
  var gpa = document.getElementById("gpa").value;
  var age = document.getElementById("age").value;
  var aspirationalSchool = document.getElementById("school-i-wanna-go-to").value;

	if($("#school-i-went-to").is(":checked")){
	        var nameBrandSchool = "1";
	      } else {
	      	var nameBrandSchool = "0";
	      }

	if($("#major").is(":checked")){
	        var major = "1";
	      } else {
	      	var major = "0";
	      }

	if($("#race").is(":checked")){
	        var urm = "1"
	      } else {
	      	var urm = "0";
	      }

	if($("#gender").is(":checked")){
	        var gender = "0";
	      } else {
	      	var gender = "1";
	      }

  var postbody = {"gpa":gpa,
                  "gmat":gmat,
                  "major":major,
                  "race":urm,
                  "gender":gender,
                  "school":aspirationalSchool,
                  "university":nameBrandSchool}

  console.log([age,gpa,gmat,nameBrandSchool,major,urm,gender])
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {

        var responseObject = JSON.parse(this.responseText);

        var chance = responseObject.body.chance.toFixed(2)
        var school_sel = responseObject.body.school

		console.log('chance: '+chance)
        console.log('school: '+school_sel)
        document.getElementById("chance-result").innerHTML = "Chances of getting into "+school_sel + "\n" + chance;
        //document.getElementById("author-result").innerHTML = "- " + author;
    }
  };
  xhttp.open("POST", "https://jcp.pythonanywhere.com/api/v1");
  xhttp.setRequestHeader("Content-Type","application/json")

  xhttp.send(JSON.stringify(postbody));
}

</script>





</head>

<div class="row">
<form id="form_43381" class="appnitro"  method="post" action="">
	<div class="form_description">
		<h2>MBA Profile</h2>
		<p>Enter your stats/demographics. Note that they are crude because the model is crude and isn't attempting to capture all of the dimensions/nuances that make you special and more interesting than 7 parameters.</p>
	</div>
	<ul >
		<li id="li_3" >
			<label class="description" for="element_3">Age</label>
			<div>
				<input id="age" type="number" min="18" max="99"  name="element_3" class="element text medium" type="text" maxlength="255" value=""/>
			</div>
		</li>
		<li id="li_1" >
			<label class="description" for="element_1">GPA </label>
			<div>
				<input id="gpa" type="number" min="0.0" max="4.0" name="element_1" class="element text medium" type="text" maxlength="255" value=""/>


			</div>
		</li>
		<li id="li_2" >
			<label class="description" for="element_2">GMAT </label>
			<div>
				<input id="gmat" type="number" min="200" max="800" name="element_2" class="element text medium" type="text" maxlength="3" value=""/>
			</div>
		</li>
		<li id="li_4" >
			<div>

			    <p>
			      <label>
			        <input id="school-i-went-to" type="checkbox" />
			        <span>Degree From a Name Brand Schoole</span>
			      </label>
			    </p>


			</div>
		</li>
		<li id="li_7" >
			<div>
			    <p>
			      <label>
			        <input id="major" type="checkbox" />
			        <span>Studied STEM</span>
			      </label>
			    </p>
			</div>
		</li>
		<li id="li_5" >
 			<div>


		    <p>
		      <label>
		        <input id="race" type="checkbox" />
		        <span>Underrepresented Minority</span>
		      </label>
		    </p>


			</div>
			</li>
	        <li id="li_6" >
			<div>
			    <p>
			      <label>
			        <input id="gender" type="checkbox" />
			        <span>Male</span>
			      </label>
			    </p>

			</div>
		</li>

        <li id="li_7" >
			<label class="description" for="element_7">Aspirational MBA</label>
			<div>
				<select class="element select medium" id="school-i-wanna-go-to" name="element_7">
					<option value="" selected="selected"></option>
					<option value="stanford" >Stanford GSB</option>
					<option value="harvard" >Harvard Business School</option>
					<option value="wharton" >UPenn Wharton</option>
					<option value="booth" >University of Chicago Booth</option>
					<option value="columbia" >Columbia Business School</option>
					<option value="sloan" >M.I.T Sloan</option>
					<option value="kellogg" >Northwestern Kellogg</option>
				</select>
			</div>
		</li>


	</ul>
</form>
</div>

<!---<button id="saveForm" class="btn waves-effect waves-light" type="button" name="action" onclick="genPredictions()">Request
    <i class="material-icons right">Tell Me My Fate</i>
</button>--->


<button id="saveForm" style="background-color: #008CBA; border-radius:6px; box-shadow:0 8px 16px 0 rgba(0,0,0,0.2), 0 6px 20px 0 rgba(0,0,0,0.19);" type="button" onclick="genPredictions()">Tell Me My Fate</button>

<p id="chance-result"></p>
<footer></footer>
